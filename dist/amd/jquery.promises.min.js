// jQuery.Promises, v1.0.1
// Copyright (c)2014 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/jquery.promises


!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd&&define(["jquery"],b)}(this,function(jQuery){"use strict";return function(jQuery){var a=function(){var a=jQuery.Deferred();return{isResolved:!!a.isResolved,isRejected:!!a.isRejected}}();jQuery.extend({Promises:function(b){var c=function(){var d,e,f=b.Deferred(),g=[],h=0,i=!1;if(!(this instanceof c)){var j=new c;return c.apply(j,arguments)}var k=function(a){var b,c,d,e,f,g=[];for(c=0,e=a.length;e>c;c++){for(b=!1,d=0,f=g.length;f>d;d++)b=a[c]===g[d]||b;b||g.push(a[c])}return g};this.add=function(){if(g[0]&&!this.isUnresolved()&&!i)throw{name:"PromisesError",message:"Can't add promise when Promises is no longer unresolved"};for(var a=0;a<arguments.length;a++)g.push(arguments[a]);return g=k(g),g.length&&(h++,b.when.apply(this,g).done(l(h)).fail(m(h))),this},this.postpone=function(){if(!d){if(g[0]&&!this.isUnresolved()&&!i)throw{name:"PromisesError",message:"Can't postpone resolution when Promises is no longer unresolved"};d=b.Deferred(),e=g.length,this.add(d)}return this},this.stopPostponing=function(){return d&&(g.splice(e,1),this.add(),d=null),this},this.ignoreBelated=function(a){return i=!a,this},this.isUnresolved=function(){return!(this.isResolved()||this.isRejected())},a.isResolved||(this.isResolved=function(){return"resolved"===this.state()}),a.isRejected||(this.isRejected=function(){return"rejected"===this.state()});var l=function(a){return function(){h===a&&f.resolve.apply(this,arguments)}},m=function(a){return function(){h===a&&f.reject.apply(this,arguments)}};return this.add.apply(this,arguments),f.promise(this)};return c}(jQuery)})}(jQuery),jQuery.Promises});
//# sourceMappingURL=jquery.promises.min.js.map